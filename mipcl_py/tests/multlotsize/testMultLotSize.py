#!/usr/bin/python
from mipcl_py.models.multlotsize import MultLotSize

l = [304, 304, 352, 352, 336, 336] # durations of all periods

products = [
  [
    (0, 50, 100), # storage capacity, initial an final stocks
    [ 500, 600, 300, 200, 0, 500], # demands for product
    [17, 17, 17, 16, 16, 16], # unit production costs
    [1, 1, 1, 1, 1, 1], # storage costs
    [0, 0, 0, 0, 1, 0, 1] # quantity of this product used in production of one unit of the other products
  ],
  [
    (0, 50, 100),
    [1000, 700, 600, 300, 100, 500],
    [19, 19, 19, 17, 17, 17],
    [1, 1, 1, 1, 1, 1],
    [0, 0, 0, 0, 0, 0, 0]
  ],
  [
    (0, 50, 100),
    [300, 200,  0, 400, 500, 100],
    [16, 16, 16, 15, 15, 15],
    [1, 1, 1, 1, 1, 1],
    [0, 0, 0, 0, 1, 0, 0]
  ],
  [
    (0, 50, 100),
    [300, 0, 0, 500, 100, 300],
    [8, 8, 8, 7, 7, 7],
    [1, 1, 1, 1, 1, 1],
    [0, 0, 0, 0, 0, 0, 0]
  ],
  [
    (0, 50, 100),
    [800, 400, 500, 200, 1000, 1100],
    [9, 9, 9, 8, 8, 8],
    [1, 1, 1, 1, 1, 1],
    [0, 0, 0, 0, 0, 0, 0]
  ],
  [
    (0, 50, 100),
    [200, 300, 400, 0, 300, 500],
    [16, 16, 16, 14, 14, 14],
    [1, 1, 1, 1, 1, 1],
    [0, 0, 0, 0, 0, 0, 2]
  ],
  [
    (0, 50, 100),
    [100, 150, 100, 100, 0, 60],
    [25, 25, 25, 22, 22, 22],
    [1, 1, 1, 1, 1, 1],
    [0, 0, 0, 0, 0, 0, 0]
  ]
]

machines = [
  [
    [6, 5, 4, 5, 3, 5], # numbers of machines available in each period
    [500, 500, 500, 500, 500, 500], # costs of running one machine in each period
    [0.5, 0.7, 0.0, 0.0, 0.3, 0.2, 0.5] # time needed to produce one unit of any product
  ],
  [
    [4, 5, 6, 4, 5, 3],
    [450, 450, 450, 450, 450, 450],
    [0.1, 0.2, 0.0, 0.3, 0.0, 0.6, 0.0]
  ],
  [
    [5, 3, 5, 6, 5, 4],
    [450, 450, 450, 450, 450, 450],
    [0.2, 0.0, 0.8, 0.0, 0.0, 0.0, 0.6]
  ],
  [
    [8, 6, 7, 8, 7, 6],
    [550, 550, 550, 550, 550, 550],
    [0.05, 0.03, 0.0,  0.07, 0.01, 0.0, 0.08]
  ],
  [
    [3, 2, 2, 2, 3, 3],
    [600, 600, 600, 600, 600, 600],
    [0.0, 0.0, 0.01, 0.0, 0.05, 0.0, 0.05]
  ],
  [
    [4, 3, 4, 4, 3, 4],
    [400, 400, 400, 400, 400, 400],
    [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.15]
  ]
]
prob = MultLotSize("test1")
prob.model(l,products,machines)
prob.optimize()
prob.printSolution()

